# Vanilo Category Module

[![Travis](https://img.shields.io/travis/vanilophp/category.svg?style=flat-square)](https://travis-ci.org/vanilophp/category)
[![Packagist version](https://img.shields.io/packagist/vpre/vanilo/category.svg?style=flat-square)](https://packagist.org/packages/vanilo/category)
[![Packagist downloads](https://img.shields.io/packagist/dt/vanilo/category.svg?style=flat-square)](https://packagist.org/packages/vanilo/category)
[![StyleCI](https://styleci.io/repos/145992208/shield?branch=master)](https://styleci.io/repos/145992208)
[![MIT Software License](https://img.shields.io/badge/license-MIT-blue.svg?style=flat-square)](LICENSE.md)

Category module for the [Vanilo E-commerce framework](https://vanilo.io)

[Documentation](https://vanilo.io/docs/master/categorization)

## Overview

Depending on your needs you may want to have a single category tree, or
more than one. As an example some shops prefer to have "brands" as a
hierarchical tree besides the usual "category" classification. Some
other shops use brand as a product attribute. Both solutions can be good
depending on the unique shop's needs.

Another example is a wine shop that classifies wines based on region and
on type.

Taken from other ecommerce systems, separate category trees are called
**Taxonomies** and their child branches are called **Taxons**.

*Example 1*:

```
Category                <- Taxonomy
│
├─> Men                 <- Taxon
│   └> T-shirts         <- Taxon
│   └> Jeans            <- Taxon
└─> Women               <- Taxon
    └> Skirts           <- Taxon
    └> Accessories      <- Taxon
```

*Example 2*:

```
Region                  <- Taxonomy
│
├─> France              <- Taxon
│   └> Bordeaux         <- Taxon
│   └> Côtes du Rhone   <- Taxon
└─> Italy               <- Taxon
    └> Veneto           <- Taxon
    └> Tuscany          <- Taxon
    └> Piedmont         <- Taxon
```

*Example 3*:

```
Type                    <- Taxonomy
│
├─> Red                 <- Taxon
│   └> Cabernet Franc   <- Taxon
│   └> Merlot           <- Taxon
│   └> Porto            <- Taxon
├─> White               <- Taxon
│   └> Muscat Ottonel   <- Taxon
│   └> Tokaji           <- Taxon
│   └> Furmint          <- Taxon
└─> Rosé                <- Taxon
    └> Cabernet Franc   <- Taxon
    └> Cuvée            <- Taxon
```

## Creating Taxonomies

Taxonomies basically have two properties: name and slug.
The slug must be unique and gets autogenerated (URL-ified) from the name
if it doesn't explicitly get specified.

```php
use Vanilo\Category\Models\Taxonomy;

$category = Taxonomy::create(['name' => 'Wine Regions']);

echo $category->name;
// Wine Regions
echo $category->slug;
// wine-regions
```

If you explicitly set the slug, no autogeneration will take place:

```php
use Vanilo\Category\Models\Taxonomy;

$category = Taxonomy::create(['name' => 'Wine Regions', 'slug' => 'regions']);

echo $category->slug;
// regions
```

In case a slug already exists, the slug will be automatically extended
to prevent duplicates:

```php
use Vanilo\Category\Models\Taxonomy;

$category1 = Taxonomy::create(['name' => 'Category']);
$category2 = Taxonomy::create(['name' => 'Category']);

echo $category1->slug;
// category

echo $category2->slug;
// category-1
```

## Creating Taxons

// To be continued here
